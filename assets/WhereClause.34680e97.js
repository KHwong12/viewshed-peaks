import{dj as As,ae as xt}from"./vendor.d423bc92.js";function Is(l,u){const o=Tt[l.toLowerCase()];if(o==null)throw new Error("Function Not Recognised");if(u.length<o.minParams||u.length>o.maxParams)throw new Error(`Invalid Parameter count for call to ${l.toUpperCase()}`);return o.evaluate(u)}function Es(l,u){const o=Tt[l.toLowerCase()];return o!=null&&u>=o.minParams&&u<=o.maxParams}const Tt={min:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:Math.min.apply(Math,l[0])},max:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:Math.max.apply(Math,l[0])},avg:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:At(l[0])},sum:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:Ss(l[0])},stddev:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:Math.sqrt(It(l[0]))},count:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:l[0].length},var:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:It(l[0])}};function At(l){let u=0;for(let o=0;o<l.length;o++)u+=l[o];return u/l.length}function Ss(l){let u=0;for(let o=0;o<l.length;o++)u+=l[o];return u}function It(l){const u=At(l),o=l.length;let p=0;for(const i of l)p+=(i-u)**2;return o>1?p/(o-1):0}class F{constructor(){this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0}static fixDefaults(u){if(u.precision!==null||u.secondary!==null)throw new Error("Primary and Secondary SqlInterval qualifiers not supported")}static createFromMilliseconds(u){const o=new F;return o.second=u/1e3,o}static createFromValueAndQualifer(u,o,p){let i=null;const v=new F;if(v.op=p==="-"?"-":"+",o.type==="interval-period"){F.fixDefaults(o);const m=new RegExp("^[0-9]{1,}$");if(o.period==="year"||o.period==="month")throw new Error("Year-Month Intervals not supported");if(!m.test(u))throw new Error("Illegal Interval");v[o.period]=parseFloat(u)}else{if(F.fixDefaults(o.start),F.fixDefaults(o.end),o.start.period==="year"||o.start.period==="month")throw new Error("Year-Month Intervals not supported");if(o.end.period==="year"||o.end.period==="month")throw new Error("Year-Month Intervals not supported");switch(o.start.period){case"day":switch(o.end.period){case"hour":if(i=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!i.test(u))throw new Error("Illegal Interval");v[o.start.period]=parseFloat(u.split(" ")[0]),v[o.end.period]=parseFloat(u.split(" ")[1]);break;case"minute":if(i=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!i.test(u))throw new Error("Illegal Interval");{v[o.start.period]=parseFloat(u.split(" ")[0]);const m=u.split(" ")[1].split(":");v.hour=parseFloat(m[0]),v.minute=parseFloat(m[1])}break;case"second":if(i=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!i.test(u))throw new Error("Illegal Interval");{v[o.start.period]=parseFloat(u.split(" ")[0]);const m=u.split(" ")[1].split(":");v.hour=parseFloat(m[0]),v.minute=parseFloat(m[1]),v.second=parseFloat(m[2])}break;default:throw"Invalid Interval."}break;case"hour":switch(o.end.period){case"minute":if(i=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!i.test(u))throw new Error("Illegal Interval");v.hour=parseFloat(u.split(":")[0]),v.minute=parseFloat(u.split(":")[1]);break;case"second":if(i=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!i.test(u))throw new Error("Illegal Interval");{const m=u.split(":");v.hour=parseFloat(m[0]),v.minute=parseFloat(m[1]),v.second=parseFloat(m[2])}break;default:throw"Invalid Interval."}break;case"minute":if(o.end.period!=="second")throw"Invalid Interval.";if(i=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!i.test(u))throw new Error("Illegal Interval");{const m=u.split(":");v.minute=parseFloat(m[0]),v.second=parseFloat(m[1])}break;default:throw"Invalid Interval."}}return v}valueInMilliseconds(){return(this.op==="-"?-1:1)*(1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}function Et(l,u){const o=St[l.toLowerCase()];if(o==null)throw new Error("Function Not Recognised");if(u.length<o.minParams||u.length>o.maxParams)throw new Error(`Invalid Parameter count for call to ${l.toUpperCase()}`);return o.evaluate(u)}function Cs(l,u){const o=St[l.toLowerCase()];return o!=null&&u>=o.minParams&&u<=o.maxParams}const St={extract:{minParams:2,maxParams:2,evaluate:([l,u])=>{if(u==null)return null;if(u instanceof Date)switch(l.toUpperCase()){case"SECOND":return u.getSeconds();case"MINUTE":return u.getMinutes();case"HOUR":return u.getHours();case"DAY":return u.getDate();case"MONTH":return u.getMonth()+1;case"YEAR":return u.getFullYear()}throw new Error("Invalid Parameter for call to EXTRACT")}},substring:{minParams:2,maxParams:3,evaluate:l=>{if(l.length===2){const[u,o]=l;return u==null||o==null?null:u.toString().substring(o-1)}if(l.length===3){const[u,o,p]=l;return u==null||o==null||p==null?null:p<=0?"":u.toString().substring(o-1,o+p-1)}}},position:{minParams:2,maxParams:2,evaluate:([l,u])=>l==null||u==null?null:u.indexOf(l)+1},trim:{minParams:2,maxParams:3,evaluate:l=>{const u=l.length===3,o=u?l[1]:" ",p=u?l[2]:l[1];if(o==null||p==null)return null;const i=`(${As(o)})`;switch(l[0]){case"BOTH":return p.replace(new RegExp(`^${i}*|${i}*$`,"g"),"");case"LEADING":return p.replace(new RegExp(`^${i}*`,"g"),"");case"TRAILING":return p.replace(new RegExp(`${i}*$`,"g"),"")}throw new Error("Invalid Parameter for call to TRIM")}},abs:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:Math.abs(l[0])},ceiling:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:Math.ceil(l[0])},floor:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:Math.floor(l[0])},log:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:Math.log(l[0])},log10:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:Math.log(l[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:Math.sin(l[0])},cos:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:Math.cos(l[0])},tan:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:Math.tan(l[0])},asin:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:Math.asin(l[0])},acos:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:Math.acos(l[0])},atan:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:Math.atan(l[0])},sign:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:l[0]>0?1:l[1]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:l=>l[0]==null||l[1]==null?null:l[0]**l[1]},mod:{minParams:2,maxParams:2,evaluate:l=>l[0]==null||l[1]==null?null:l[0]%l[1]},round:{minParams:1,maxParams:2,evaluate:l=>{const u=l[0],o=l.length===2?10**l[1]:1;return u==null?null:Math.round(u*o)/o}},truncate:{minParams:1,maxParams:2,evaluate:l=>l[0]==null?null:l.length===1?parseInt(l[0].toFixed(0),10):parseFloat(l[0].toFixed(l[1]))},char_length:{minParams:1,maxParams:1,evaluate:l=>typeof l[0]=="string"||l[0]instanceof String?l[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:l=>{let u="";for(let o=0;o<l.length;o++){if(l[o]==null)return null;u+=l[o].toString()}return u}},lower:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:l[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:l=>l[0]==null?null:l[0].toString().toUpperCase()}};var Ct,Pt,Ft={exports:{}};Pt=function(){function l(i,v){function m(){this.constructor=i}m.prototype=v.prototype,i.prototype=new m}function u(i,v,m,t){var w=Error.call(this,i);return Object.setPrototypeOf&&Object.setPrototypeOf(w,u.prototype),w.expected=v,w.found=m,w.location=t,w.name="SyntaxError",w}function o(i,v,m){return m=m||" ",i.length>v?i:(v-=i.length,i+(m+=m.repeat(v)).slice(0,v))}function p(i,v){var m,t={},w=(v=v!==void 0?v:{}).grammarSource,b={start:ze},L=ze,$="!",_="=",T=">=",E=">",M="<=",S="<>",Ht="<",Ie="!=",se="+",oe="-",Vt="*",qt="/",Bt="@",Ee="'",Se="N'",z="''",jt=".",Yt="null",zt="true",Gt="false",Wt="in",Kt="is",Zt="like",Qt="escape",Xt="not",er="and",tr="or",rr="between",nr="from",ar="for",ur="substring",sr="extract",or="trim",ir="position",lr="timestamp",cr="date",fr="leading",pr="trailing",vr="both",hr="to",dr="interval",mr="year",gr="month",wr="day",yr="hour",Nr="minute",br="second",xr="case",Tr="end",Ar="when",Ir="then",Er="else",Sr=",",Cr="(",Pr=")",Ce="`",Fr=/^[A-Za-z_\x80-\uFFFF]/,Lr=/^[A-Za-z0-9_]/,Mr=/^[A-Za-z0-9_.\x80-\uFFFF]/,Pe=/^[^']/,Or=/^[0-9]/,_r=/^[eE]/,Dr=/^[+\-]/,Rr=/^[ \t\n\r]/,Fe=/^[^`]/,Jr=g("!",!1),Le=g("=",!1),$r=g(">=",!1),kr=g(">",!1),Ur=g("<=",!1),Hr=g("<>",!1),Vr=g("<",!1),qr=g("!=",!1),ie=g("+",!1),le=g("-",!1),Br=g("*",!1),jr=g("/",!1),Yr=D([["A","Z"],["a","z"],"_",["\x80","\uFFFF"]],!1,!1),zr=D([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Gr=D([["A","Z"],["a","z"],["0","9"],"_",".",["\x80","\uFFFF"]],!1,!1),Wr=g("@",!1),Me=g("'",!1),Kr=g("N'",!1),Oe=g("''",!1),_e=D(["'"],!0,!1),Zr=g(".",!1),Qr=D([["0","9"]],!1,!1),Xr=D(["e","E"],!1,!1),en=D(["+","-"],!1,!1),tn=g("NULL",!0),rn=g("TRUE",!0),nn=g("FALSE",!0),an=g("IN",!0),un=g("IS",!0),sn=g("LIKE",!0),on=g("ESCAPE",!0),ln=g("NOT",!0),cn=g("AND",!0),fn=g("OR",!0),pn=g("BETWEEN",!0),vn=g("FROM",!0),hn=g("FOR",!0),dn=g("SUBSTRING",!0),mn=g("EXTRACT",!0),gn=g("TRIM",!0),wn=g("POSITION",!0),yn=g("TIMESTAMP",!0),Nn=g("DATE",!0),bn=g("LEADING",!0),xn=g("TRAILING",!0),Tn=g("BOTH",!0),An=g("TO",!0),In=g("INTERVAL",!0),En=g("YEAR",!0),Sn=g("MONTH",!0),Cn=g("DAY",!0),Pn=g("HOUR",!0),Fn=g("MINUTE",!0),Ln=g("SECOND",!0),Mn=g("CASE",!0),On=g("END",!0),_n=g("WHEN",!0),Dn=g("THEN",!0),Rn=g("ELSE",!0),Jn=g(",",!1),$n=g("(",!1),kn=g(")",!1),Un=D([" ","	",`
`,"\r"],!1,!1),De=g("`",!1),Re=D(["`"],!0,!1),Hn=function(e){return e},Vn=function(e,n){var a={type:"expr_list"},s=Ts(e,n);return a.value=s,a},ce=function(e,n){return be(e,n)},qn=function(e){return bs("NOT",e)},Bn=function(e,n){return n==""||n==null||n==null?e:n.type=="arithmetic"?be(e,n.tail):bt(n.op,e,n.right,n.escape)},jn=function(e){return{type:"arithmetic",tail:e}},Yn=function(e,n){return{op:e+"NOT",right:n}},zn=function(e,n){return{op:e,right:n}},Gn=function(e,n,a){return{op:"NOT"+e,right:{type:"expr_list",value:[n,a]}}},Wn=function(e,n,a){return{op:e,right:{type:"expr_list",value:[n,a]}}},Je=function(e){return e[0]+" "+e[2]},Kn=function(e,n,a){return{op:e,right:n,escape:a.value}},Zn=function(e,n){return{op:e,right:n,escape:""}},Qn=function(e,n){return{op:e,right:n}},Xn=function(e){return{op:e,right:{type:"expr_list",value:[]}}},ea=function(e,n){return{op:e,right:n}},ta=function(e,n){return be(e,n)},ra=function(e){return e.paren=!0,e},na=function(e){return/^CURRENT_DATE$/i.test(e)?{type:"current_time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(e)?{type:"current_time",mode:"timestamp"}:{type:"column_ref",table:"",column:e}},$e=function(e){return e},ke=function(e,n){return e+n.join("")},aa=function(e){return{type:"param",value:e[1]}},ua=function(e,n){return{type:"function",name:"extract",args:{type:"expr_list",value:[{type:"string",value:e},n]}}},sa=function(e,n,a){return{type:"function",name:"substring",args:{type:"expr_list",value:a?[e,n,a[2]]:[e,n]}}},oa=function(e,n,a){return{type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:e==null?"BOTH":e},n,a]}}},ia=function(e,n){return{type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:e==null?"BOTH":e},n]}}},la=function(e,n){return{type:"function",name:"position",args:{type:"expr_list",value:[e,n]}}},ca=function(e,n){return{type:"function",name:e,args:n||{type:"expr_list",value:[]}}},fa=function(e){return{type:"timestamp",value:e.value}},pa=function(e,n,a){return{type:"interval",value:n,qualifier:a,op:e}},va=function(e,n){return{type:"interval",value:e,qualifier:n,op:""}},ha=function(e,n){return{type:"interval-qualifier",start:e,end:n}},da=function(e,n){return{type:"interval-period",period:e.value,precision:n,secondary:null}},Ue=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},ma=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},He=function(e,n){return{type:"interval-period",period:"second",precision:e,secondary:n}},ga=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}},wa=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},ya=function(e,n){return{type:"interval-period",period:e.value,precision:n,secondary:null}},Na=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}},ba=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},xa=function(){return{type:"string",value:"day"}},Ta=function(){return{type:"string",value:"hour"}},Aa=function(){return{type:"string",value:"minute"}},Ia=function(){return{type:"string",value:"month"}},Ea=function(){return{type:"string",value:"year"}},Ve=function(e){return parseFloat(e)},Sa=function(e){return{type:"date",value:e.value}},Ca=function(){return{type:"null",value:null}},Pa=function(){return{type:"bool",value:!0}},Fa=function(){return{type:"bool",value:!1}},qe=function(){return"'"},La=function(e){return{type:"string",value:e.join("")}},Ma=function(e,n){return{type:"case_expression",format:"simple",operand:e,clauses:n,else:null}},Oa=function(e,n,a){return{type:"case_expression",format:"simple",operand:e,clauses:n,else:a.value}},_a=function(e){return{type:"case_expression",format:"searched",clauses:e,else:null}},Da=function(e,n){return{type:"case_expression",format:"searched",clauses:e,else:n.value}},Be=function(e,n){return{type:"when_clause",operand:e,value:n}},Ra=function(e){return{type:"else_clause",value:e}},Ja=function(e){return{type:"number",value:e}},$a=function(e,n,a){return parseFloat(e+n+a)},ka=function(e,n){return parseFloat(e+n)},Ua=function(e,n){return parseFloat(e+n)},Ha=function(e){return parseFloat(e)},Va=function(e,n){return e[0]+n},qa=function(e){return"."+(e!=null?e:"")},Ba=function(e,n){return e+n},ja=function(e){return e.join("")},Ya=function(e,n){return"e"+(n===null?"":n)},za=function(){return"IN"},Ga=function(){return"IS"},Wa=function(){return"LIKE"},Ka=function(){return"ESCAPE"},Za=function(){return"NOT"},Qa=function(){return"AND"},Xa=function(){return"OR"},eu=function(){return"BETWEEN"},tu=function(){return"FROM"},ru=function(){return"FOR"},nu=function(){return"SUBSTRING"},au=function(){return"EXTRACT"},uu=function(){return"TRIM"},su=function(){return"POSITION"},ou=function(){return"TIMESTAMP"},iu=function(){return"DATE"},lu=function(){return"LEADING"},cu=function(){return"TRAILING"},fu=function(){return"BOTH"},pu=function(){return"TO"},vu=function(){return"INTERVAL"},hu=function(){return"YEAR"},du=function(){return"MONTH"},mu=function(){return"DAY"},gu=function(){return"HOUR"},wu=function(){return"MINUTE"},yu=function(){return"SECOND"},Nu=function(){return"CASE"},bu=function(){return"END"},xu=function(){return"WHEN"},Tu=function(){return"THEN"},Au=function(){return"ELSE"},Iu=function(e){return e.join("")},r=0,G=[{line:1,column:1}],O=0,fe=[],c=0;if("startRule"in v){if(!(v.startRule in b))throw new Error(`Can't start parsing from rule "`+v.startRule+'".');L=b[v.startRule]}function g(e,n){return{type:"literal",text:e,ignoreCase:n}}function D(e,n,a){return{type:"class",parts:e,inverted:n,ignoreCase:a}}function Eu(){return{type:"end"}}function je(e){var n,a=G[e];if(a)return a;for(n=e-1;!G[n];)n--;for(a={line:(a=G[n]).line,column:a.column};n<e;)i.charCodeAt(n)===10?(a.line++,a.column=1):a.column++,n++;return G[e]=a,a}function Ye(e,n){var a=je(e),s=je(n);return{source:w,start:{offset:e,line:a.line,column:a.column},end:{offset:n,line:s.line,column:s.column}}}function h(e){r<O||(r>O&&(O=r,fe=[]),fe.push(e))}function Su(e,n,a){return new u(u.buildMessage(e,n),e,n,a)}function ze(){var e,n;return e=r,f(),(n=I())!==t?(f(),e=Hn(n)):(r=e,e=t),e}function Ge(){var e,n,a,s,d,N,x,A;if(e=r,(n=I())!==t){for(a=[],s=r,d=f(),(N=ae())!==t?(x=f(),(A=I())!==t?s=d=[d,N,x,A]:(r=s,s=t)):(r=s,s=t);s!==t;)a.push(s),s=r,d=f(),(N=ae())!==t?(x=f(),(A=I())!==t?s=d=[d,N,x,A]:(r=s,s=t)):(r=s,s=t);e=Vn(n,a)}else r=e,e=t;return e}function I(){var e,n,a,s,d,N,x,A;if(e=r,(n=pe())!==t){for(a=[],s=r,d=f(),(N=lt())!==t?(x=f(),(A=pe())!==t?s=d=[d,N,x,A]:(r=s,s=t)):(r=s,s=t);s!==t;)a.push(s),s=r,d=f(),(N=lt())!==t?(x=f(),(A=pe())!==t?s=d=[d,N,x,A]:(r=s,s=t)):(r=s,s=t);e=ce(n,a)}else r=e,e=t;return e}function pe(){var e,n,a,s,d,N,x,A;if(e=r,(n=W())!==t){for(a=[],s=r,d=f(),(N=te())!==t?(x=f(),(A=W())!==t?s=d=[d,N,x,A]:(r=s,s=t)):(r=s,s=t);s!==t;)a.push(s),s=r,d=f(),(N=te())!==t?(x=f(),(A=W())!==t?s=d=[d,N,x,A]:(r=s,s=t)):(r=s,s=t);e=ce(n,a)}else r=e,e=t;return e}function W(){var e,n,a,s,d;return e=r,(n=j())===t&&(n=r,i.charCodeAt(r)===33?(a=$,r++):(a=t,c===0&&h(Jr)),a!==t?(s=r,c++,i.charCodeAt(r)===61?(d=_,r++):(d=t,c===0&&h(Le)),c--,d===t?s=void 0:(r=s,s=t),s!==t?n=a=[a,s]:(r=n,n=t)):(r=n,n=t)),n!==t?(a=f(),(s=W())!==t?e=qn(s):(r=e,e=t)):(r=e,e=t),e===t&&(e=Cu()),e}function Cu(){var e,n,a;return e=r,(n=R())!==t?(f(),(a=Pu())===t&&(a=null),e=Bn(n,a)):(r=e,e=t),e}function Pu(){var e;return(e=Fu())===t&&(e=_u())===t&&(e=Mu())===t&&(e=Lu())===t&&(e=Ou()),e}function Fu(){var e,n,a,s,d,N;if(e=[],n=r,a=f(),(s=We())!==t?(d=f(),(N=R())!==t?n=a=[a,s,d,N]:(r=n,n=t)):(r=n,n=t),n!==t)for(;n!==t;)e.push(n),n=r,a=f(),(s=We())!==t?(d=f(),(N=R())!==t?n=a=[a,s,d,N]:(r=n,n=t)):(r=n,n=t);else e=t;return e!==t&&(e=jn(e)),e}function We(){var e;return i.substr(r,2)===T?(e=T,r+=2):(e=t,c===0&&h($r)),e===t&&(i.charCodeAt(r)===62?(e=E,r++):(e=t,c===0&&h(kr)),e===t&&(i.substr(r,2)===M?(e=M,r+=2):(e=t,c===0&&h(Ur)),e===t&&(i.substr(r,2)===S?(e=S,r+=2):(e=t,c===0&&h(Hr)),e===t&&(i.charCodeAt(r)===60?(e=Ht,r++):(e=t,c===0&&h(Vr)),e===t&&(i.charCodeAt(r)===61?(e=_,r++):(e=t,c===0&&h(Le)),e===t&&(i.substr(r,2)===Ie?(e=Ie,r+=2):(e=t,c===0&&h(qr)))))))),e}function Lu(){var e,n,a,s;return e=r,(n=ot())!==t?(f(),(a=j())!==t?(f(),(s=R())!==t?e=Yn(n,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=ot())!==t?(f(),(a=R())!==t?e=zn(n,a):(r=e,e=t)):(r=e,e=t)),e}function Mu(){var e,n,a,s,d,N;return e=r,(n=j())!==t?(f(),(a=ct())!==t?(f(),(s=R())!==t?(f(),(d=te())!==t?(f(),(N=R())!==t?e=Gn(a,s,N):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=ct())!==t?(f(),(a=R())!==t?(f(),(s=te())!==t?(f(),(d=R())!==t?e=Wn(n,a,d):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)),e}function Ke(){var e,n,a,s,d;return e=r,n=r,(a=j())!==t?(s=f(),(d=it())!==t?n=a=[a,s,d]:(r=n,n=t)):(r=n,n=t),n!==t&&(n=Je(n)),(e=n)===t&&(e=it()),e}function ve(){var e,n,a,s,d;return e=r,n=r,(a=j())!==t?(s=f(),(d=ye())!==t?n=a=[a,s,d]:(r=n,n=t)):(r=n,n=t),n!==t&&(n=Je(n)),(e=n)===t&&(e=ye()),e}function Ou(){var e,n,a,s;return e=r,(n=Ke())!==t?(f(),(a=H())!==t?(f(),is()!==t?(f(),(s=we())!==t?e=Kn(n,a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=Ke())!==t?(f(),(a=H())!==t?e=Zn(n,a):(r=e,e=t)):(r=e,e=t)),e}function _u(){var e,n,a,s;return e=r,(n=ve())!==t?(f(),(a=C())!==t?(f(),(s=Ge())!==t?(f(),P()!==t?e=Qn(n,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=ve())!==t?(f(),(a=C())!==t?(f(),(s=P())!==t?e=Xn(n):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=ve())!==t?(f(),(a=ge())!==t?e=ea(n,a):(r=e,e=t)):(r=e,e=t))),e}function R(){var e,n,a,s,d,N,x,A;if(e=r,(n=he())!==t){for(a=[],s=r,d=f(),(N=Ze())!==t?(x=f(),(A=he())!==t?s=d=[d,N,x,A]:(r=s,s=t)):(r=s,s=t);s!==t;)a.push(s),s=r,d=f(),(N=Ze())!==t?(x=f(),(A=he())!==t?s=d=[d,N,x,A]:(r=s,s=t)):(r=s,s=t);e=ce(n,a)}else r=e,e=t;return e}function Ze(){var e;return i.charCodeAt(r)===43?(e=se,r++):(e=t,c===0&&h(ie)),e===t&&(i.charCodeAt(r)===45?(e=oe,r++):(e=t,c===0&&h(le))),e}function he(){var e,n,a,s,d,N,x,A;if(e=r,(n=de())!==t){for(a=[],s=r,d=f(),(N=Qe())!==t?(x=f(),(A=de())!==t?s=d=[d,N,x,A]:(r=s,s=t)):(r=s,s=t);s!==t;)a.push(s),s=r,d=f(),(N=Qe())!==t?(x=f(),(A=de())!==t?s=d=[d,N,x,A]:(r=s,s=t)):(r=s,s=t);e=ta(n,a)}else r=e,e=t;return e}function Qe(){var e;return i.charCodeAt(r)===42?(e=Vt,r++):(e=t,c===0&&h(Br)),e===t&&(i.charCodeAt(r)===47?(e=qt,r++):(e=t,c===0&&h(jr))),e}function de(){var e,n;return(e=Bu())===t&&(e=$u())===t&&(e=ku())===t&&(e=Uu())===t&&(e=Hu())===t&&(e=Vu())===t&&(e=Xu())===t&&(e=Du())===t&&(e=ge())===t&&(e=r,C()!==t?(f(),(n=I())!==t?(f(),P()!==t?e=ra(n):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)),e}function Du(){var e;return(e=Ru())!==t&&(e=na(e)),e}function Ru(){var e;return(e=Ju())!==t&&(e=$e(e)),e}function Ju(){var e,n,a,s;if(e=r,(n=me())!==t){for(a=[],s=et();s!==t;)a.push(s),s=et();e=ke(n,a)}else r=e,e=t;return e}function Xe(){var e,n,a,s;if(e=r,(n=me())!==t){for(a=[],s=y();s!==t;)a.push(s),s=y();e=ke(n,a)}else r=e,e=t;return e}function me(){var e;return Fr.test(i.charAt(r))?(e=i.charAt(r),r++):(e=t,c===0&&h(Yr)),e}function y(){var e;return Lr.test(i.charAt(r))?(e=i.charAt(r),r++):(e=t,c===0&&h(zr)),e}function et(){var e;return Mr.test(i.charAt(r))?(e=i.charAt(r),r++):(e=t,c===0&&h(Gr)),e}function ge(){var e,n,a;return e=r,i.charCodeAt(r)===64?(n=Bt,r++):(n=t,c===0&&h(Wr)),n!==t&&(a=Xe())!==t?e=n=[n,a]:(r=e,e=t),e!==t&&(e=aa(e)),e}function $u(){var e,n,a;return e=r,fs()!==t?(f(),C()!==t?(f(),(n=qu())!==t?(f(),Ne()!==t?(f(),(a=I())!==t?(f(),P()!==t?e=ua(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}function ku(){var e,n,a,s,d,N,x;return e=r,cs()!==t?(f(),C()!==t?(f(),(n=I())!==t?(f(),Ne()!==t?(f(),(a=I())!==t?(f(),s=r,(d=ls())!==t?(N=f(),(x=I())!==t?s=d=[d,N,x,f()]:(r=s,s=t)):(r=s,s=t),s===t&&(s=null),(d=P())!==t?e=sa(n,a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}function Uu(){var e,n,a,s;return e=r,ft()!==t?(f(),C()!==t?(f(),(n=tt())===t&&(n=null),f(),(a=I())!==t?(f(),Ne()!==t?(f(),(s=I())!==t?(f(),P()!==t?e=oa(n,a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,ft()!==t?(f(),C()!==t?(f(),(n=tt())===t&&(n=null),f(),(a=I())!==t?(f(),P()!==t?e=ia(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)),e}function tt(){var e;return(e=ds())===t&&(e=ms())===t&&(e=gs()),e}function Hu(){var e,n,a;return e=r,ps()!==t?(f(),C()!==t?(f(),(n=I())!==t?(f(),ye()!==t?(f(),(a=I())!==t?(f(),P()!==t?e=la(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}function Vu(){var e,n,a;return e=r,(n=Ns())!==t?(f(),C()!==t?(f(),(a=Ge())===t&&(a=null),f(),P()!==t?e=ca(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}function qu(){var e;return(e=vt())===t&&(e=ht())===t&&(e=dt())===t&&(e=mt())===t&&(e=gt())===t&&(e=k()),e}function Bu(){var e;return(e=we())===t&&(e=rs())===t&&(e=Qu())===t&&(e=Zu())===t&&(e=Ku())===t&&(e=ju())===t&&(e=Yu()),e}function ju(){var e,n;return e=r,vs()!==t?(f(),(n=H())!==t?e=fa(n):(r=e,e=t)):(r=e,e=t),e}function Yu(){var e,n,a,s;return e=r,pt()!==t?(f(),i.charCodeAt(r)===45?(n=oe,r++):(n=t,c===0&&h(le)),n===t&&(i.charCodeAt(r)===43?(n=se,r++):(n=t,c===0&&h(ie))),n!==t?(f(),(a=H())!==t?(f(),(s=rt())!==t?e=pa(n,a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,pt()!==t?(f(),(n=H())!==t?(f(),(a=rt())!==t?e=va(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)),e}function rt(){var e,n,a;return e=r,(n=zu())!==t?(f(),ws()!==t?(f(),(a=Gu())!==t?e=ha(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=Wu()),e}function zu(){var e,n,a;return e=r,(n=B())!==t?(f(),C()!==t?(f(),(a=Z())!==t?(f(),P()!==t?e=da(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=B())!==t&&(n=Ue(n)),e=n),e}function Gu(){var e,n,a,s;return e=r,(n=B())!==t&&(n=ma(n)),(e=n)===t&&(e=r,(n=k())!==t?(f(),C()!==t?(f(),(a=Z())!==t?(f(),ae()!==t?(f(),(s=K())!==t?(f(),P()!==t?e=He(a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=k())!==t?(f(),C()!==t?(f(),(a=Z())!==t?(f(),P()!==t?e=ga(a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=k())!==t&&(n=wa()),e=n))),e}function Wu(){var e,n,a,s;return e=r,(n=B())!==t?(f(),C()!==t?(f(),(a=K())!==t?(f(),P()!==t?e=ya(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=B())!==t&&(n=Ue(n)),(e=n)===t&&(e=r,(n=k())!==t?(f(),C()!==t?(f(),(a=Z())!==t?(f(),ae()!==t?(f(),(s=K())!==t?(f(),P()!==t?e=He(a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=k())!==t?(f(),C()!==t?(f(),(a=K())!==t?(f(),P()!==t?e=Na(a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=k())!==t&&(n=ba()),e=n)))),e}function B(){var e,n;return e=r,(n=dt())!==t&&(n=xa()),(e=n)===t&&(e=r,(n=mt())!==t&&(n=Ta()),(e=n)===t&&(e=r,(n=gt())!==t&&(n=Aa()),(e=n)===t&&(e=r,(n=ht())!==t&&(n=Ia()),(e=n)===t&&(e=r,(n=vt())!==t&&(n=Ea()),e=n)))),e}function K(){var e;return(e=V())!==t&&(e=Ve(e)),e}function Z(){var e;return(e=V())!==t&&(e=Ve(e)),e}function Ku(){var e,n;return e=r,hs()!==t?(f(),(n=H())!==t?e=Sa(n):(r=e,e=t)):(r=e,e=t),e}function Zu(){var e;return(e=us())!==t&&(e=Ca()),e}function Qu(){var e,n;return e=r,(n=ss())!==t&&(n=Pa()),(e=n)===t&&(e=r,(n=os())!==t&&(n=Fa()),e=n),e}function H(){var e;return(e=we())===t&&(e=ge()),e}function we(){var e,n,a,s,d;if(e=r,i.charCodeAt(r)===39?(n=Ee,r++):(n=t,c===0&&h(Me)),n===t&&(i.substr(r,2)===Se?(n=Se,r+=2):(n=t,c===0&&h(Kr))),n!==t){for(a=[],s=r,i.substr(r,2)===z?(d=z,r+=2):(d=t,c===0&&h(Oe)),d!==t&&(d=qe()),(s=d)===t&&(Pe.test(i.charAt(r))?(s=i.charAt(r),r++):(s=t,c===0&&h(_e)));s!==t;)a.push(s),s=r,i.substr(r,2)===z?(d=z,r+=2):(d=t,c===0&&h(Oe)),d!==t&&(d=qe()),(s=d)===t&&(Pe.test(i.charAt(r))?(s=i.charAt(r),r++):(s=t,c===0&&h(_e)));i.charCodeAt(r)===39?(s=Ee,r++):(s=t,c===0&&h(Me)),s!==t?e=La(a):(r=e,e=t)}else r=e,e=t;return e}function Xu(){var e;return(e=es())===t&&(e=ts()),e}function es(){var e,n,a,s,d;if(e=r,re()!==t)if(f(),(n=I())!==t){for(f(),a=[],s=X();s!==t;)a.push(s),s=X();s=f(),(d=ne())!==t?e=Ma(n,a):(r=e,e=t)}else r=e,e=t;else r=e,e=t;if(e===t)if(e=r,re()!==t)if(f(),(n=I())!==t){for(f(),a=[],s=X();s!==t;)a.push(s),s=X();s=f(),(d=nt())!==t?(f(),ne()!==t?e=Oa(n,a,d):(r=e,e=t)):(r=e,e=t)}else r=e,e=t;else r=e,e=t;return e}function ts(){var e,n,a,s;if(e=r,re()!==t){for(f(),n=[],a=Q();a!==t;)n.push(a),a=Q();a=f(),(s=ne())!==t?e=_a(n):(r=e,e=t)}else r=e,e=t;if(e===t)if(e=r,re()!==t){for(f(),n=[],a=Q();a!==t;)n.push(a),a=Q();a=f(),(s=nt())!==t?(f(),ne()!==t?e=Da(n,s):(r=e,e=t)):(r=e,e=t)}else r=e,e=t;return e}function Q(){var e,n,a;return e=r,wt()!==t?(f(),(n=I())!==t?(f(),yt()!==t?(f(),(a=I())!==t?e=Be(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}function X(){var e,n,a;return e=r,wt()!==t?(f(),(n=I())!==t?(f(),yt()!==t?(f(),(a=I())!==t?e=Be(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}function nt(){var e,n;return e=r,ys()!==t?(f(),(n=I())!==t?e=Ra(n):(r=e,e=t)):(r=e,e=t),e}function rs(){var e,n,a,s;return e=r,(n=ns())!==t?(a=r,c++,s=me(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=Ja(n):(r=e,e=t)):(r=e,e=t),e}function ns(){var e,n,a,s;return e=r,(n=ee())!==t&&(a=at())!==t&&(s=ut())!==t?e=$a(n,a,s):(r=e,e=t),e===t&&(e=r,(n=ee())!==t&&(a=at())!==t?e=ka(n,a):(r=e,e=t),e===t&&(e=r,(n=ee())!==t&&(a=ut())!==t?e=Ua(n,a):(r=e,e=t),e===t&&(e=r,(n=ee())!==t&&(n=Ha(n)),e=n))),e}function ee(){var e,n,a;return(e=V())===t&&(e=r,i.charCodeAt(r)===45?(n=oe,r++):(n=t,c===0&&h(le)),n===t&&(i.charCodeAt(r)===43?(n=se,r++):(n=t,c===0&&h(ie))),n!==t&&(a=V())!==t?e=Va(n,a):(r=e,e=t)),e}function at(){var e,n,a;return e=r,i.charCodeAt(r)===46?(n=jt,r++):(n=t,c===0&&h(Zr)),n!==t?((a=V())===t&&(a=null),e=qa(a)):(r=e,e=t),e}function ut(){var e,n,a;return e=r,(n=as())!==t&&(a=V())!==t?e=Ba(n,a):(r=e,e=t),e}function V(){var e,n;if(e=[],(n=st())!==t)for(;n!==t;)e.push(n),n=st();else e=t;return e!==t&&(e=ja(e)),e}function st(){var e;return Or.test(i.charAt(r))?(e=i.charAt(r),r++):(e=t,c===0&&h(Qr)),e}function as(){var e,n,a;return e=r,_r.test(i.charAt(r))?(n=i.charAt(r),r++):(n=t,c===0&&h(Xr)),n!==t?(Dr.test(i.charAt(r))?(a=i.charAt(r),r++):(a=t,c===0&&h(en)),a===t&&(a=null),e=Ya(n,a)):(r=e,e=t),e}function us(){var e,n,a,s;return e=r,i.substr(r,4).toLowerCase()===Yt?(n=i.substr(r,4),r+=4):(n=t,c===0&&h(tn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=n=[n,a]:(r=e,e=t)):(r=e,e=t),e}function ss(){var e,n,a,s;return e=r,i.substr(r,4).toLowerCase()===zt?(n=i.substr(r,4),r+=4):(n=t,c===0&&h(rn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=n=[n,a]:(r=e,e=t)):(r=e,e=t),e}function os(){var e,n,a,s;return e=r,i.substr(r,5).toLowerCase()===Gt?(n=i.substr(r,5),r+=5):(n=t,c===0&&h(nn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=n=[n,a]:(r=e,e=t)):(r=e,e=t),e}function ye(){var e,n,a,s;return e=r,i.substr(r,2).toLowerCase()===Wt?(n=i.substr(r,2),r+=2):(n=t,c===0&&h(an)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=za():(r=e,e=t)):(r=e,e=t),e}function ot(){var e,n,a,s;return e=r,i.substr(r,2).toLowerCase()===Kt?(n=i.substr(r,2),r+=2):(n=t,c===0&&h(un)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=Ga():(r=e,e=t)):(r=e,e=t),e}function it(){var e,n,a,s;return e=r,i.substr(r,4).toLowerCase()===Zt?(n=i.substr(r,4),r+=4):(n=t,c===0&&h(sn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=Wa():(r=e,e=t)):(r=e,e=t),e}function is(){var e,n,a,s;return e=r,i.substr(r,6).toLowerCase()===Qt?(n=i.substr(r,6),r+=6):(n=t,c===0&&h(on)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=Ka():(r=e,e=t)):(r=e,e=t),e}function j(){var e,n,a,s;return e=r,i.substr(r,3).toLowerCase()===Xt?(n=i.substr(r,3),r+=3):(n=t,c===0&&h(ln)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=Za():(r=e,e=t)):(r=e,e=t),e}function te(){var e,n,a,s;return e=r,i.substr(r,3).toLowerCase()===er?(n=i.substr(r,3),r+=3):(n=t,c===0&&h(cn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=Qa():(r=e,e=t)):(r=e,e=t),e}function lt(){var e,n,a,s;return e=r,i.substr(r,2).toLowerCase()===tr?(n=i.substr(r,2),r+=2):(n=t,c===0&&h(fn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=Xa():(r=e,e=t)):(r=e,e=t),e}function ct(){var e,n,a,s;return e=r,i.substr(r,7).toLowerCase()===rr?(n=i.substr(r,7),r+=7):(n=t,c===0&&h(pn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=eu():(r=e,e=t)):(r=e,e=t),e}function Ne(){var e,n,a,s;return e=r,i.substr(r,4).toLowerCase()===nr?(n=i.substr(r,4),r+=4):(n=t,c===0&&h(vn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=tu():(r=e,e=t)):(r=e,e=t),e}function ls(){var e,n,a,s;return e=r,i.substr(r,3).toLowerCase()===ar?(n=i.substr(r,3),r+=3):(n=t,c===0&&h(hn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=ru():(r=e,e=t)):(r=e,e=t),e}function cs(){var e,n,a,s;return e=r,i.substr(r,9).toLowerCase()===ur?(n=i.substr(r,9),r+=9):(n=t,c===0&&h(dn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=nu():(r=e,e=t)):(r=e,e=t),e}function fs(){var e,n,a,s;return e=r,i.substr(r,7).toLowerCase()===sr?(n=i.substr(r,7),r+=7):(n=t,c===0&&h(mn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=au():(r=e,e=t)):(r=e,e=t),e}function ft(){var e,n,a,s;return e=r,i.substr(r,4).toLowerCase()===or?(n=i.substr(r,4),r+=4):(n=t,c===0&&h(gn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=uu():(r=e,e=t)):(r=e,e=t),e}function ps(){var e,n,a,s;return e=r,i.substr(r,8).toLowerCase()===ir?(n=i.substr(r,8),r+=8):(n=t,c===0&&h(wn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=su():(r=e,e=t)):(r=e,e=t),e}function vs(){var e,n,a,s;return e=r,i.substr(r,9).toLowerCase()===lr?(n=i.substr(r,9),r+=9):(n=t,c===0&&h(yn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=ou():(r=e,e=t)):(r=e,e=t),e}function hs(){var e,n,a,s;return e=r,i.substr(r,4).toLowerCase()===cr?(n=i.substr(r,4),r+=4):(n=t,c===0&&h(Nn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=iu():(r=e,e=t)):(r=e,e=t),e}function ds(){var e,n,a,s;return e=r,i.substr(r,7).toLowerCase()===fr?(n=i.substr(r,7),r+=7):(n=t,c===0&&h(bn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=lu():(r=e,e=t)):(r=e,e=t),e}function ms(){var e,n,a,s;return e=r,i.substr(r,8).toLowerCase()===pr?(n=i.substr(r,8),r+=8):(n=t,c===0&&h(xn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=cu():(r=e,e=t)):(r=e,e=t),e}function gs(){var e,n,a,s;return e=r,i.substr(r,4).toLowerCase()===vr?(n=i.substr(r,4),r+=4):(n=t,c===0&&h(Tn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=fu():(r=e,e=t)):(r=e,e=t),e}function ws(){var e,n,a,s;return e=r,i.substr(r,2).toLowerCase()===hr?(n=i.substr(r,2),r+=2):(n=t,c===0&&h(An)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=pu():(r=e,e=t)):(r=e,e=t),e}function pt(){var e,n,a,s;return e=r,i.substr(r,8).toLowerCase()===dr?(n=i.substr(r,8),r+=8):(n=t,c===0&&h(In)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=vu():(r=e,e=t)):(r=e,e=t),e}function vt(){var e,n,a,s;return e=r,i.substr(r,4).toLowerCase()===mr?(n=i.substr(r,4),r+=4):(n=t,c===0&&h(En)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=hu():(r=e,e=t)):(r=e,e=t),e}function ht(){var e,n,a,s;return e=r,i.substr(r,5).toLowerCase()===gr?(n=i.substr(r,5),r+=5):(n=t,c===0&&h(Sn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=du():(r=e,e=t)):(r=e,e=t),e}function dt(){var e,n,a,s;return e=r,i.substr(r,3).toLowerCase()===wr?(n=i.substr(r,3),r+=3):(n=t,c===0&&h(Cn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=mu():(r=e,e=t)):(r=e,e=t),e}function mt(){var e,n,a,s;return e=r,i.substr(r,4).toLowerCase()===yr?(n=i.substr(r,4),r+=4):(n=t,c===0&&h(Pn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=gu():(r=e,e=t)):(r=e,e=t),e}function gt(){var e,n,a,s;return e=r,i.substr(r,6).toLowerCase()===Nr?(n=i.substr(r,6),r+=6):(n=t,c===0&&h(Fn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=wu():(r=e,e=t)):(r=e,e=t),e}function k(){var e,n,a,s;return e=r,i.substr(r,6).toLowerCase()===br?(n=i.substr(r,6),r+=6):(n=t,c===0&&h(Ln)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=yu():(r=e,e=t)):(r=e,e=t),e}function re(){var e,n,a,s;return e=r,i.substr(r,4).toLowerCase()===xr?(n=i.substr(r,4),r+=4):(n=t,c===0&&h(Mn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=Nu():(r=e,e=t)):(r=e,e=t),e}function ne(){var e,n,a,s;return e=r,i.substr(r,3).toLowerCase()===Tr?(n=i.substr(r,3),r+=3):(n=t,c===0&&h(On)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=bu():(r=e,e=t)):(r=e,e=t),e}function wt(){var e,n,a,s;return e=r,i.substr(r,4).toLowerCase()===Ar?(n=i.substr(r,4),r+=4):(n=t,c===0&&h(_n)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=xu():(r=e,e=t)):(r=e,e=t),e}function yt(){var e,n,a,s;return e=r,i.substr(r,4).toLowerCase()===Ir?(n=i.substr(r,4),r+=4):(n=t,c===0&&h(Dn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=Tu():(r=e,e=t)):(r=e,e=t),e}function ys(){var e,n,a,s;return e=r,i.substr(r,4).toLowerCase()===Er?(n=i.substr(r,4),r+=4):(n=t,c===0&&h(Rn)),n!==t?(a=r,c++,s=y(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=Au():(r=e,e=t)):(r=e,e=t),e}function ae(){var e;return i.charCodeAt(r)===44?(e=Sr,r++):(e=t,c===0&&h(Jn)),e}function C(){var e;return i.charCodeAt(r)===40?(e=Cr,r++):(e=t,c===0&&h($n)),e}function P(){var e;return i.charCodeAt(r)===41?(e=Pr,r++):(e=t,c===0&&h(kn)),e}function f(){var e,n;for(e=[],n=Nt();n!==t;)e.push(n),n=Nt();return e}function Nt(){var e;return Rr.test(i.charAt(r))?(e=i.charAt(r),r++):(e=t,c===0&&h(Un)),e}function Ns(){var e,n,a,s;if(e=r,(n=Xe())!==t&&(n=$e(n)),(e=n)===t)if(e=r,i.charCodeAt(r)===96?(n=Ce,r++):(n=t,c===0&&h(De)),n!==t){if(a=[],Fe.test(i.charAt(r))?(s=i.charAt(r),r++):(s=t,c===0&&h(Re)),s!==t)for(;s!==t;)a.push(s),Fe.test(i.charAt(r))?(s=i.charAt(r),r++):(s=t,c===0&&h(Re));else a=t;a!==t?(i.charCodeAt(r)===96?(s=Ce,r++):(s=t,c===0&&h(De)),s!==t?e=Iu(a):(r=e,e=t)):(r=e,e=t)}else r=e,e=t;return e}function bs(e,n){return{type:"unary_expr",operator:e,expr:n}}function bt(e,n,a,s){var d={type:"binary_expr",operator:e,left:n,right:a};return s!==void 0&&(d.escape=s),d}function xs(e,n){for(var a=[e],s=0;s<n.length;s++)a.push(n[s][3]);return a}function Ts(e,n,a){return xs(e,n)}function be(e,n){for(var a=e,s=0;s<n.length;s++)a=bt(n[s][1],a,n[s][3]);return a}if((m=L())!==t&&r===i.length)return m;throw m!==t&&r<i.length&&h(Eu()),Su(fe,O<i.length?i.charAt(O):null,O<i.length?Ye(O,O+1):Ye(O,O))}return l(u,Error),u.prototype.format=function(i){var v="Error: "+this.message;if(this.location){var m,t=null;for(m=0;m<i.length;m++)if(i[m].source===this.location.source){t=i[m].text.split(/\r\n|\n|\r/g);break}var w=this.location.start,b=this.location.source+":"+w.line+":"+w.column;if(t){var L=this.location.end,$=o("",w.line.toString().length),_=t[w.line-1],T=w.line===L.line?L.column:_.length+1;v+=`
 --> `+b+`
`+$+` |
`+w.line+" | "+_+`
`+$+" | "+o("",w.column-1)+o("",T-w.column,"^")}else v+=`
 at `+b}return v},u.buildMessage=function(i,v){var m={literal:function(T){return'"'+w(T.text)+'"'},class:function(T){var E=T.parts.map(function(M){return Array.isArray(M)?b(M[0])+"-"+b(M[1]):b(M)});return"["+(T.inverted?"^":"")+E+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(T){return T.description}};function t(T){return T.charCodeAt(0).toString(16).toUpperCase()}function w(T){return T.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+t(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+t(E)})}function b(T){return T.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+t(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+t(E)})}function L(T){return m[T.type](T)}function $(T){var E,M,S=T.map(L);if(S.sort(),S.length>0){for(E=1,M=1;E<S.length;E++)S[E-1]!==S[E]&&(S[M]=S[E],M++);S.length=M}switch(S.length){case 1:return S[0];case 2:return S[0]+" or "+S[1];default:return S.slice(0,-1).join(", ")+", or "+S[S.length-1]}}function _(T){return T?'"'+w(T)+'"':"end of input"}return"Expected "+$(i)+" but "+_(v)+" found."},{SyntaxError:u,parse:p}},(Ct=Ft).exports&&(Ct.exports=Pt());class Ps{static parse(u){return Ft.exports.parse(u)}}const Lt=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,Fs=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)$/,Ls=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)(\+|\-)(\d{1,2}):(\d{1,2})$/,Ms=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})(\+|\-)(\d{1,2}):(\d{1,2})$/,Os=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/,_s=new Set(["current_timestamp","current_date","current_time"]);function U(l,u){return(l+="").length>=u?l:new Array(u-l.length+1).join("0")+l}function Y(l,u,o="0",p="0",i="0",v="0",m="",t="0",w="0"){if(m==="+"||m==="-"){const b=`${U(parseInt(l,10),4)}-${U(parseInt(u,10),2)}-${U(parseInt(o,10),2)}`;let L="";parseFloat(v)<10&&(L="0");const $=`${U(parseInt(p,10),2)}:${U(parseInt(i,10),2)}:${L+parseFloat(v).toString()}`,_=`${m}${U(parseInt(t,10),2)}:${U(parseInt(w,10),2)}`;return new Date(b+"T"+$+_)}return new Date(parseInt(l,10),parseInt(u,10)-1,parseInt(o,10),parseInt(p,10),parseInt(i,10),parseFloat(v))}class Ds{static makeBool(u){return Dt(u)}static featureValue(u,o,p,i){return Ut(u,o,p,i)}static equalsNull(u){return u===null}static applyLike(u,o,p){return Ae(u,o,p)}static ensureArray(u){return xe(u)}static applyIn(u,o){return Te(u,o)}static currentDate(){const u=new Date;return u.setHours(0,0,0,0),u}static makeSqlInterval(u,o,p){return F.createFromValueAndQualifer(u,o,p)}static convertInterval(u){return u instanceof F?u.valueInMilliseconds():u}static currentTimestamp(){return new Date}static compare(u,o,p){return $t(u,o,p)}static calculate(u,o,p){return kt(u,o,p)}static makeComparable(u){return J(u)}static evaluateFunction(u,o){return Et(u,o)}static lookup(u,o){const p=o[u];return p===void 0?null:p}static between(u,o){return u==null||o[0]==null||o[1]==null?null:u>=o[0]&&u<=o[1]}static notbetween(u,o){return u==null||o[0]==null||o[1]==null?null:u<o[0]||u>o[1]}static ternaryNot(u){return ue(u)}static ternaryAnd(u,o){return Rt(u,o)}static ternaryOr(u,o){return Jt(u,o)}}class Mt{constructor(u,o){this.fieldsIndex=o,this.datefields={},this.parameters={},this._hasDateFunctions=void 0,this.parseTree=Ps.parse(u);const{isStandardized:p,isAggregate:i,referencedFieldNames:v}=this.extractExpressionInfo(o);this.referencedFieldNames=v,this.isStandardized=p,this.isAggregate=i}static create(u,o){return new Mt(u,o)}get fieldNames(){return this.referencedFieldNames}testSet(u,o=q){const p={};for(const i of this.fieldNames)p[i]=u.map(v=>o.getAttribute(v,i));return!!this.evaluateNode(this.parseTree,{attributes:p},q)}calculateValue(u,o=q){const p=this.evaluateNode(this.parseTree,u,o);return p instanceof F?p.valueInMilliseconds()/864e5:p}calculateValueCompiled(u,o=q){return this.parseTree._compiledVersion!=null?this.parseTree._compiledVersion(u,this.parameters,o,this.datefields):xt("esri-csp-restrictions")?this.calculateValue(u,o):(this.compileMe(),this.parseTree._compiledVersion(u,this.parameters,o,this.datefields))}testFeature(u,o=q){return!!this.evaluateNode(this.parseTree,u,o)}testFeatureCompiled(u,o=q){return this.parseTree._compiledVersion!=null?!!this.parseTree._compiledVersion(u,this.parameters,o,this.datefields):xt("esri-csp-restrictions")?this.testFeature(u,o):(this.compileMe(),!!this.parseTree._compiledVersion(u,this.parameters,o,this.datefields))}get hasDateFunctions(){return this._hasDateFunctions!=null||(this._hasDateFunctions=!1,this.visitAll(this.parseTree,u=>{u.type==="current_time"?this._hasDateFunctions=!0:u.type==="function"&&(this._hasDateFunctions=this._hasDateFunctions||_s.has(u.name.toLowerCase()))})),this._hasDateFunctions}getFunctions(){const u=new Set;return this.visitAll(this.parseTree,o=>{o.type==="function"&&u.add(o.name.toLowerCase())}),Array.from(u)}getExpressions(){const u=new Map;return this.visitAll(this.parseTree,o=>{if(o.type==="function"){const p=o.name.toLowerCase(),i=o.args.value[0];if(i.type==="column_ref"){const v=i.column,m=`${p}-${v}`;u.has(m)||u.set(m,{aggregateType:p,field:v})}}}),[...u.values()]}getVariables(){const u=new Set;return this.visitAll(this.parseTree,o=>{o.type==="param"&&u.add(o.value.toLowerCase())}),Array.from(u)}compileMe(){const u="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","datefields",u).bind(Ds)}extractExpressionInfo(u){const o=[],p=new Set;let i=!0,v=!0;return this.visitAll(this.parseTree,m=>{switch(m.type){case"column_ref":{const t=u.get(m.column);let w,b;t?w=b=t.name:(b=m.column,w=b.toLowerCase()),!t||t.type!=="date"&&t.type!=="esriFieldTypeDate"||(this.datefields[t.name]=1),p.has(w)||(p.add(w),o.push(b)),m.column=b;break}case"function":{const{name:t,args:w}=m,b=w.value.length;i&&(i=Cs(t,b)),v&&(v=Es(t,b));break}}}),{referencedFieldNames:Array.from(o),isStandardized:i,isAggregate:v}}visitAll(u,o){if(u!=null)switch(o(u),u.type){case"when_clause":this.visitAll(u.operand,o),this.visitAll(u.value,o);break;case"case_expression":for(const p of u.clauses)this.visitAll(p,o);u.format==="simple"&&this.visitAll(u.operand,o),u.else!==null&&this.visitAll(u.else,o);break;case"expr_list":for(const p of u.value)this.visitAll(p,o);break;case"unary_expr":this.visitAll(u.expr,o);break;case"binary_expr":this.visitAll(u.left,o),this.visitAll(u.right,o);break;case"function":this.visitAll(u.args,o)}}evaluateNodeToJavaScript(u){switch(u.type){case"interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(u.value)+", "+JSON.stringify(u.qualifier)+","+JSON.stringify(u.op)+")";case"case_expression":{let o="";if(u.format==="simple"){const p="this.makeComparable("+this.evaluateNodeToJavaScript(u.operand)+")";o="( ";for(let i=0;i<u.clauses.length;i++)o+=" ("+p+" === this.makeComparable("+this.evaluateNodeToJavaScript(u.clauses[i].operand)+")) ? ("+this.evaluateNodeToJavaScript(u.clauses[i].value)+") : ";u.else!==null?o+=this.evaluateNodeToJavaScript(u.else):o+="null",o+=" )"}else{o="( ";for(let p=0;p<u.clauses.length;p++)o+=" this.makeBool("+this.evaluateNodeToJavaScript(u.clauses[p].operand)+")===true ? ("+this.evaluateNodeToJavaScript(u.clauses[p].value)+") : ";u.else!==null?o+=this.evaluateNodeToJavaScript(u.else):o+="null",o+=" )"}return o}case"param":return"this.lookup("+JSON.stringify(u.value.toLowerCase())+",lookups)";case"expr_list":{let o="[";for(const p of u.value)o!=="["&&(o+=","),o+=this.evaluateNodeToJavaScript(p);return o+="]",o}case"unary_expr":return"this.ternaryNot("+this.evaluateNodeToJavaScript(u.expr)+")";case"binary_expr":switch(u.operator){case"AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+" )";case"OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+" )";case"IS":if(u.right.type!=="null")throw new Error("Unsupported RHS for IS");return"this.equalsNull("+this.evaluateNodeToJavaScript(u.left)+")";case"ISNOT":if(u.right.type!=="null")throw new Error("Unsupported RHS for IS");return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(u.left)+")))";case"IN":return"this.applyIn("+this.evaluateNodeToJavaScript(u.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(u.right)+"))";case"NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(u.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(u.right)+")))";case"BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+")";case"NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+")";case"LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+","+JSON.stringify(u.escape)+")";case"NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+","+JSON.stringify(u.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return"this.compare("+JSON.stringify(u.operator)+","+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+")";case"*":case"-":case"+":case"/":return"this.calculate("+JSON.stringify(u.operator)+","+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+")"}throw new Error("Not Supported Operator "+u.operator);case"null":case"bool":case"string":case"number":return JSON.stringify(u.value);case"date":return"(new Date("+_t(u.value).getTime().toString()+"))";case"timestamp":return"(new Date("+Ot(u.value).getTime().toString()+"))";case"current_time":return u.mode==="date"?"this.currentDate()":"this.currentTimestamp()";case"column_ref":return"this.featureValue(feature,"+JSON.stringify(u.column)+",datefields,attributeAdapter)";case"function":return"this.evaluateFunction("+JSON.stringify(u.name)+","+this.evaluateNodeToJavaScript(u.args)+")"}throw new Error("Unsupported sql syntax "+u.type)}evaluateNode(u,o,p){switch(u.type){case"interval":{const i=this.evaluateNode(u.value,o,p);return F.createFromValueAndQualifer(i,u.qualifier,u.op)}case"case_expression":if(u.format==="simple"){const i=J(this.evaluateNode(u.operand,o,p));for(let v=0;v<u.clauses.length;v++)if(i===J(this.evaluateNode(u.clauses[v].operand,o,p)))return this.evaluateNode(u.clauses[v].value,o,p);if(u.else!==null)return this.evaluateNode(u.else,o,p)}else{for(let i=0;i<u.clauses.length;i++)if(Dt(this.evaluateNode(u.clauses[i].operand,o,p)))return this.evaluateNode(u.clauses[i].value,o,p);if(u.else!==null)return this.evaluateNode(u.else,o,p)}return null;case"param":return this.parameters[u.value.toLowerCase()];case"expr_list":{const i=[];for(const v of u.value)i.push(this.evaluateNode(v,o,p));return i}case"unary_expr":return ue(this.evaluateNode(u.expr,o,p));case"binary_expr":switch(u.operator){case"AND":return Rt(this.evaluateNode(u.left,o,p),this.evaluateNode(u.right,o,p));case"OR":return Jt(this.evaluateNode(u.left,o,p),this.evaluateNode(u.right,o,p));case"IS":if(u.right.type!=="null")throw new Error("Unsupported RHS for IS");return this.evaluateNode(u.left,o,p)===null;case"ISNOT":if(u.right.type!=="null")throw new Error("Unsupported RHS for IS");return this.evaluateNode(u.left,o,p)!==null;case"IN":{const i=xe(this.evaluateNode(u.right,o,p));return Te(this.evaluateNode(u.left,o,p),i)}case"NOT IN":{const i=xe(this.evaluateNode(u.right,o,p));return ue(Te(this.evaluateNode(u.left,o,p),i))}case"BETWEEN":{const i=this.evaluateNode(u.left,o,p),v=this.evaluateNode(u.right,o,p);return i==null||v[0]==null||v[1]==null?null:i>=J(v[0])&&i<=J(v[1])}case"NOTBETWEEN":{const i=this.evaluateNode(u.left,o,p),v=this.evaluateNode(u.right,o,p);return i==null||v[0]==null||v[1]==null?null:i<J(v[0])||i>J(v[1])}case"LIKE":return Ae(this.evaluateNode(u.left,o,p),this.evaluateNode(u.right,o,p),u.escape);case"NOT LIKE":return ue(Ae(this.evaluateNode(u.left,o,p),this.evaluateNode(u.right,o,p),u.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return $t(u.operator,this.evaluateNode(u.left,o,p),this.evaluateNode(u.right,o,p));case"-":case"+":case"*":case"/":return kt(u.operator,this.evaluateNode(u.left,o,p),this.evaluateNode(u.right,o,p))}case"null":case"bool":case"string":case"number":return u.value;case"date":return _t(u.value);case"timestamp":return Ot(u.value);case"current_time":{const i=new Date;return u.mode==="date"&&i.setHours(0,0,0,0),i}case"column_ref":return Ut(o,u.column,this.datefields,p);case"function":{const i=this.evaluateNode(u.args,o,p);return this.isAggregate?Is(u.name,i):Et(u.name,i)}}throw new Error("Unsupported sql syntax "+u.type)}}function Ot(l){let u=Fs.exec(l);if(u!==null){const[,o,p,i,v,m,t]=u;return Y(o,p,i,v,m,t)}if(u=Ls.exec(l),u!==null){const[,o,p,i,v,m,t,w,b,L]=u;return Y(o,p,i,v,m,t,w,b,L)}if(u=Ms.exec(l),u!==null){const[,o,p,i,v,m,t,w,b]=u;return Y(o,p,i,v,m,"0",t,w,b)}if(u=Os.exec(l),u!==null){const[,o,p,i,v,m]=u;return Y(o,p,i,v,m)}if(u=Lt.exec(l),u!==null){const[,o,p,i]=u;return Y(o,p,i)}throw new Error("SQL Invalid Timestamp")}function _t(l){const u=Lt.exec(l);if(u===null)throw new Error("SQL Invalid Date");const[,o,p,i]=u;return new Date(parseInt(o,10),parseInt(p,10)-1,parseInt(i,10))}function Dt(l){return l===!0}function xe(l){return Array.isArray(l)?l:[l]}function ue(l){return l!==null?l!==!0:null}function Rt(l,u){return l!=null&&u!=null?l===!0&&u===!0:l!==!1&&u!==!1&&null}function Jt(l,u){return l!=null&&u!=null?l===!0||u===!0:l===!0||u===!0||null}function Te(l,u){if(l==null)return null;let o=!1;for(const p of u)if(p==null)o=null;else if(l===p){o=!0;break}return o}function Ae(l,u,o){if(l==null)return null;const p=u,i=o;let v="";const m="-[]/{}()*+?.\\^$|";let t=0;for(let w=0;w<p.length;w++){const b=p.charAt(w);switch(t){case 0:b===i?t=1:m.indexOf(b)>=0?v+="\\"+b:v+=b==="%"?".*":b==="_"?".":b;break;case 1:m.indexOf(b)>=0?v+="\\"+b:v+=b,t=0}}return new RegExp("^"+v+"$").test(l)}function J(l){return l instanceof Date?l.valueOf():l}function $t(l,u,o){if(u==null||o==null)return null;const p=J(u),i=J(o);switch(l){case"<>":return p!==i;case"=":return p===i;case">":return p>i;case"<":return p<i;case">=":return p>=i;case"<=":return p<=i}}function kt(l,u,o){if(u instanceof F)if(o instanceof Date)switch(l){case"+":return new Date(u.valueInMilliseconds()+o.getTime());case"-":return u.valueInMilliseconds()-o.getTime();case"*":return u.valueInMilliseconds()*o.getTime();case"/":return u.valueInMilliseconds()/o.getTime()}else if(o instanceof F)switch(l){case"+":return F.createFromMilliseconds(u.valueInMilliseconds()+o.valueInMilliseconds());case"-":return F.createFromMilliseconds(u.valueInMilliseconds()-o.valueInMilliseconds());case"*":return u.valueInMilliseconds()*o.valueInMilliseconds();case"/":return u.valueInMilliseconds()/o.valueInMilliseconds()}else u=u.valueInMilliseconds();else if(o instanceof F)if(u instanceof Date)switch(l){case"+":return new Date(o.valueInMilliseconds()+u.getTime());case"-":return new Date(u.getTime()-o.valueInMilliseconds());case"*":return u.getTime()*o.valueInMilliseconds();case"/":return u.getTime()/o.valueInMilliseconds()}else o=o.valueInMilliseconds();else if(u instanceof Date&&typeof o=="number")switch(o=24*o*60*60*1e3,u=u.getTime(),l){case"+":return new Date(u+o);case"-":return new Date(u-o);case"*":return new Date(u*o);case"/":return new Date(u/o)}else if(o instanceof Date&&typeof u=="number")switch(u=24*u*60*60*1e3,o=o.getTime(),l){case"+":return new Date(u+o);case"-":return new Date(u-o);case"*":return new Date(u*o);case"/":return new Date(u/o)}switch(l){case"+":return u+o;case"-":return u-o;case"*":return u*o;case"/":return u/o}}function Rs(l){return l&&typeof l.attributes=="object"}function Ut(l,u,o,p){const i=p.getAttribute(l,u);return i!=null&&o[u]===1?new Date(i):i}const q={getAttribute:(l,u)=>(Rs(l)?l.attributes:l)[u]};export{Mt as WhereClause,q as defaultAttributeAdapter};
