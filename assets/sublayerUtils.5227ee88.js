function f(r,e,i){return e.flatten(({sublayers:n})=>n).length!==r.length?!0:!!r.some(n=>n.originIdOf("minScale")>i||n.originIdOf("maxScale")>i||n.originIdOf("renderer")>i||n.originIdOf("labelingInfo")>i||n.originIdOf("opacity")>i||n.originIdOf("labelsVisible")>i||n.originIdOf("source")>i)||!l(r,e)}function a(r,e,i){return!!r.some(o=>{const n=o.source;return!(!n||n.type==="map-layer"&&n.mapLayerId===o.id&&(!n.gdbVersion||n.gdbVersion===i.gdbVersion))||o.originIdOf("renderer")>2||o.originIdOf("labelingInfo")>2||o.originIdOf("opacity")>2||o.originIdOf("labelsVisible")>2})||!l(r,e)}function l(r,e){if(!r||!r.length)return!0;const i=e.slice().reverse().flatten(({sublayers:t})=>t&&t.toArray().reverse()).map(t=>t.id).toArray();if(r.length>i.length)return!1;let o=0;const n=i.length;for(const{id:t}of r){for(;o<n&&i[o]!==t;)o++;if(o>=n)return!1}return!0}function s(r){return!!r&&r.some(e=>e.minScale!=null||e.layerDefinition&&e.layerDefinition.minScale!=null)}export{f as e,s as i,a as n};
