import{gT as n,gU as a}from"./index.89a7b683.js";class f{constructor(e,i){this.lockedSchemaPixelSize=e,this.isGCS=i}getLevelRowColumn(e){return this.isGCS?[e[0],e[1]>>1,e[2]>>1]:this.lockedSchemaPixelSize===256&&e[0]>0?[e[0]-1,e[1]>>1,e[2]>>1]:e}adjustLevel(e){return this.isGCS?e:this.lockedSchemaPixelSize===256?e>0?e-1:0:e}getShift(e,i){let t=0,l=0;return(this.lockedSchemaPixelSize===256||this.isGCS)&&(e[2]%2&&(t=i),e[1]%2&&(l=i)),[t,l]}getScale(e){if(this.isGCS){if(this.lockedSchemaPixelSize===512)return 4}else if(this.lockedSchemaPixelSize===256&&e===0)return 1;return 2}static create256x256CompatibleTileInfo(e){if(!e)return null;if(e.size[0]===256&&e.size[1]===256)return e;const i=256,t=e.spatialReference.isGeographic,l=[],s=e.lods.length;for(let r=0;r<s;r++){const o=e.lods[r],c=t?o.resolution:2*o.resolution;l.push(new n({level:o.level,scale:o.scale,resolution:c}))}return new a({size:[i,i],dpi:e.dpi,format:e.format,compressionQuality:e.compressionQuality,origin:e.origin,spatialReference:e.spatialReference,lods:l})}static create512x512CompatibleTileInfo(e){if(!e||e.size[0]===256||e.size[1]===256)return null;const i=512,t=[],l=e.lods.length;for(let s=0;s<l;s++){const r=e.lods[s],o=.5*r.resolution;t.push(new n({level:r.level,scale:r.scale,resolution:o}))}return new a({size:[i,i],dpi:e.dpi,format:e.format,compressionQuality:e.compressionQuality,origin:e.origin,spatialReference:e.spatialReference,lods:t})}}export{f as s};
