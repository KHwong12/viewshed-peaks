<!DOCTYPE html>
<html>

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no"/>
    <title>TypeScript Demo with ArcGIS API for JavaScript</title>

    <link rel="stylesheet" href="https://js.arcgis.com/4.19/esri/themes/light/main.css">
    <link rel="stylesheet" href="./styles/main.css">
    <script>
      var locationPath = location.pathname.replace(/\/[^/]*$/, "");
      window.dojoConfig = {
        packages: [
          {
            name: "app",
            location: locationPath + "/app"
          }
        ]
      };
    </script>
    <script src="https://js.arcgis.com/4.19"></script>
  </head>

  <body>
    <div id="viewDiv"></div>

    <div id="contentDiv">
      <h1>Visibility from Peaks - Where and How Much Can You See?</h1>

      <p>
        <b>NOTE:This application is best viewed on laptop/tablet with minimum width of 800px. Mobile version of this app is ongoing development.</b>
      </p>
      <p>
        With numerous amount of hills and peaks in Hong Kong, have you ever investigated the visable area from the peaks?
        This application allows you to view and check where and how much you could see from the peaks with given visible distance.
      </p>
      <p>
        In this 3d map, the peaks are labelled with their names and height.
      </p>

      <h3>How to Use</h3>
      <ol>
        <li>Drag and wander around the 3D map and investigate the topography.</li>
        <li>Click on the peaks (or any other places you like). A red pin will appear on the place you clicked.</li>
        <li>The application will then compute the visible area (<i>viewshed</i> in jargon) from that point. The white grids appears on the map shows the area visible from the centre.</li>
        <li>Drag the slider to set your desired visibility (1-20km) to simulate how far you can see from the centre.</li>
      </ol>

      <h3>Selected Spots</h3>
      <p>
        No idea where to start? Take a glance at the following scenes.
      </p>
      <ul>
        <li>
          <span class="indicator" id="VICTORIA_HARBOUR">Victoria Harbour
          </span>
          (initial view)
        </li>
        <li>
          <span class="indicator" id="VICTORIA_PEAK">Victoria Peak
          </span>
        </li>
        <li>
          <span class="indicator" id="KOWLOON_PEAKS">Eight Mountains of Kowloon (九龍群山)
          </span>
        </li>
        <li>
          <span class="indicator" id="TAI_MO_SHAN">Tai Mo Shan
          </span>
        </li>
        <li>
          <span class="indicator" id="SHARP_PEAK">Sharp Peak (蚺蛇尖)
          </span>
        </li>
      </ul>


      <footer>
        Created by <a href="https://twitter.com/Kenneth_KHW" target="_blank">Kenneth Wong</a>.
        <br />
        Last modified on <span id="lastModified"></span>.
        <br />
        This application is made for practice and demonstration use. Accuracy of data and results are not guaranteed.
        <br />
        Made and developed with
        <a href="https://pro.arcgis.com/en/pro-app/" target="_blank">ArcGIS Pro</a>,
        <a href="https://developers.arcgis.com/javascript/" target="_blank">ArcGIS API for JavaScript</a>
        and ☕.
        <p>
          Copyright Notice: Map from Lands Department 
          <img style="display:inline-block;max-width:16px;" src="https://api.hkmapservice.gov.hk/mapapi/landsdlogo.jpg"> |
          Aerial Photograph from Lands Department |
          Earth Image from NASA Earth Observatory |
          Satellite Imagery from USGS/NASA Landsat
        </p>
        
      </footer>

    </div>

    <script>require(["app/main"]);</script>
  </body>

</html>
